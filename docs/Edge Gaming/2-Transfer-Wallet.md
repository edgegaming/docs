---
tags: [Edge Gaming, Transfer Wallet]
---

![Edge Gaming](../../assets/images/edge_gaming/logo.jpg)

# Transfer Wallet 转账钱包

## Overview 概述 

This document describes the service integration between **Gaming (provider)** and an **operator**. The following chapters describe the general concept of integration as well as descriptions and examples of the API methods used for the service integration.<b>
文档介绍了游戏供应商和对接第三方之间的技术接口细节。以下描述了游戏和第三方的一般概念，以及运用接口的描述和示例。 

### General Notes 一般注意事项 

- Data Format : JSON (JavaScript Object Notation)
- 数据格式: JSON (JavaScript Object Notation) 
<br>
- Wallet Option: Separate Wallet
- 电子钱包选项 : 转账钱包
<br>
- **Operator** - Referred as the operator
- **第三方** - 被称为运营商或第三方 
<br>
- **Provider** - Referred as the game provider
- **游戏供应商** - 被称为游戏供应商 
<br>
- **Host ID** - This Host ID is an unique token generated from game provider for each game operator
- **Host ID** - Host ID是游戏供应商为每个第三方提供的唯一令牌
<br>
- **Points** - Referred as the game points; not player's actual wallet balance.
- **Points** - Points是游戏点数；不是玩家的实际钱包余额.
<br>
- The provider manages the user account database (personal information, balance, wallet operations, etc.)
- 游戏供应商管理用户帐户数据库(个人资料, 余额, 钱包操作等.)
<br>
- All methods support uses **HTTPS GET** verb in the system.
- 全部请求内容必须使用 **HTTPS GET** 调用 
<br>
- Players perform all betting and gaming by using EG Game Server's wallet system. Therefore, **operator** need to integrate EG API.
- 玩家使用EG Game Server的钱包系统执行所有投注和游戏。 因此，第三方需要连接EG API。
<br>
- Funds are deposited and withdrawn to the game provider with API calls.
- 资金会通过API调用存款和取款到游戏供应商。


### Getting started 游戏接入规范

To be able to connect to our game server, **operator** needs to provide the following API for us to communicate between game server and operator site. Players perform all betting and gaming by using EG Game Server's wallet system.<b>
为了能够连接到我们的EG游戏服务器。 第三方需要提供以下API给我们在游戏服务器和第三方之间进行链接。玩家使用EG Game Server的钱包系统执行所有投注和游戏。

- [Authenticate 认证 (O)](#authenticate-认证)
- [Create Player 创建玩家](#create-player-创建玩家)
- [Get Balance 获取玩家余额](#get-balance-获取玩家余额)
- [Deposit 存款](#deposit-存款)
- [Withdraw 取款](#withdraw-取款)
- [Game Launch 游戏启动](#game-launch-游戏启动)
- [User Report 玩家报表](#user-report-玩家报表)

\*\*(O) is referred to API that is required to be develop by operator. <b> \*\*(O) 是指第三方必须开发的API。

## API 游戏程序接口参考 

### Authenticate 认证

Authenticate API is called upon launching the game for the logged-in player. **Operator needs to implement this API for user verification**.<b>
已登录玩家启动游戏时会调用**Authenticate** API。第三方需要实施此API进行用户验证。

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称    | Type 类型   | Description 介绍                                                                     |
| ------------ | ------ | ------------------------------------------------------------------------------ |
| access_token | string | The access token is generated by operator system for the player's session.<b>玩家在第三方系统内的访问令牌  |

> ##### Example 例子
>
> https://{OPERATOR_API_ENDPOINT}/api/user/authenticate?access_token={access_token}

### Response 响应

| Name 名称   | Type 类型   | Description 介绍              |
| ----------- | ------ | ----------------------- |
| status_code | int    | Response status code<b>响应状态代码    |
| member_id   | string | Unique ID of the player<b>玩家唯一ID |
| currency    | string | Currency code is referred to ISO 4217<b>货币代码可参考ISO 4217           |

#### Status Code 状态代码

| Code 代码 | Description 介绍    |
| ---- | ------------- |
| 0    | Success<b>成功       |
| 1    | Invalid Token<b>访问令牌无效 |

<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子 

```json
{
  "status_code": 0,
  "member_id": "demo01",
  "currency": "MYR"
}
```

### Sample Error Response 错误响应例子 

```json
{
  "status_code": 1,
  "message": "Invalid Token"
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://{OPERATOR_API_ENDPOINT}/api/user/authenticate",
  "query": {
    "access_token": "{access_token}"
  }
}
```

<!-- type: tab-end -->

---

### Create Player 创建玩家 

To create a new player account, the create player API is called.<b>要创建新的玩家帐户，将调用创建玩家API。


<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称 | Type 类型   | Description 介绍                                           |
| --------- | ------ | ---------------------------------------------------- |
| host_id   | string | Unique ID of Operator System (provided by game provider)<b>第三方的 Host ID (游戏供应商提供) |
| member_id | string | Unique ID / Username of the player<b>玩家用户名/唯一ID                   |
| currency  | string | Currency code is referred to ISO 4217<b>货币代码可参考ISO 4217                              |

> ##### Example 例子
>
> https://{PROVIDER_API_ENDPOINT}/api/user/create?host_id={host_id}&member_id={member_id}&currency=MYR

### Response 响应

| Name 名称   | Type 类型   | Description 介绍                                  |
| ----------- | ------ | ------------------------------------------- |
| status_code | int    | Response status code<b>响应状态代码                        |
| balance     | uint64 | Current **POINTS** of the player (in cents)<b>玩家点数 (进位两位数，分钱)|

#### Status Code 状态代码

| Code 代码 | Description 介绍        |
| ---- | ----------------- |
| 0    | Success<b>成功           |
| 1    | Invalid Member ID<b>玩家账号无效  |
| 2    | Invalid Host ID<b>Host ID 无效    |
| 3    | Invalid Currency<b>货币代码无效   |

<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子

```json
{
  "data": {
    "status_code": 0,
    "balance": 100000
  }
}
```

### Sample Error Response 错误响应例子

```json
{
  "error": {
    "status_code": 2,
    "message": "Invalid Host ID"
  }
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://{PROVIDER_API_ENDPOINT}/api/user/create",
  "query": {
    "host_id": "{host_id}",
    "member_id": "{member_id}",
    "currency": "MYR"
  }
}
```

<!-- type: tab-end -->

### Get Balance 获取玩家余额

To query the balance of a particular player account, the get balance API is called.<b>要查询特定玩家帐户的余额，将调用获取玩家余额API。

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称 | Type 类型   | Description 介绍                                           |
| --------- | ------ | ---------------------------------------------------- |
| host_id   | string | Unique ID of Operator System (provided by game provider)<b>第三方的 Host ID (游戏供应商提供) |
| member_id | string | Unique ID / Username of the player<b>玩家用户名/唯一ID                   |

> ##### Example 例子
>
> https://{PROVIDER_API_ENDPOINT}/api/user/balance?host_id={host_id}&member_id={member_id}

### Response 响应

| Name 名称   | Type 类型   | Description 介绍                                  |
| ----------- | ------ | ------------------------------------------- |
| status_code | int    | Response Status Code<b>响应状态代码                        |
| balance     | uint64 | Current **POINTS** of the player (in cents)<b>玩家点数 (进位两位数，分钱) |

#### Status Code 状态代码

| Code 代码 | Description 介绍        |
| ---- | ----------------- |
| 0    | Success<b>成功           |
| 1    | Invalid Member ID<b>玩家账号无效 |
| 2    | Invalid Host ID<b>Host ID 无效   |

<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子

```json
{
  "data": {
    "status_code": 0,
    "balance": 100000
  }
}
```

### Sample Error Response 错误响应例子

```json
{
  "error": {
    "status_code": 2,
    "message": "Invalid Host ID"
  }
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://{PROVIDER_API_ENDPOINT}/api/user/balance",
  "query": {
    "host_id": "{host_id}",
    "member_id": "{member_id}",
  }
}
```

<!-- type: tab-end -->

### Deposit 存款

To transfer funds into the player account, the deposit API is called.<b>要将资金转入玩家帐户，将调用存款API。

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称 | Type 类型       | Description 介绍                                           |
| --------- | ---------- | ---------------------------------------------------- |
| host_id   | string     | Unique ID of Operator System (provided by game provider)<b>第三方的 Host ID (游戏供应商提供) |
| member_id | string     | Unique ID / Username of the player<b>玩家用户名/唯一ID                   |
| amount    | uint64     | Total **POINTS** to be transferred (in Cents)<b>要转让的总点数 （进位两位数，分钱）         |

> If player's transfer amount is 1000 points, amount is 100000 (in Cents)<b>如果玩家的转入游戏分数是1000分，amount要是100000(分钱) 

> ##### Example 例子
>
> https://{PROVIDER_API_ENDPOINT}/api/user/deposit?host_id={host_id}&member_id={member_id}&amount=10000

### Response 响应

| Name 名称   | Type 类型   | Description 介绍                                  |
| ----------- | ------ | ------------------------------------------- |
| status_code | int    | Response status code<b>响应状态代码                        |
| balance     | uint64 | Current **POINTS** of the player (in cents)<b>玩家点数 (进位两位数，分钱) |

#### Status Code 状态代码

| Code 代码 | Description 介绍                 |
| ---- | -------------------------- |
| 0    | Success<b>成功                    |
| 1    | Invalid Member ID<b>玩家账号无效          |
| 2    | Invalid Host ID<b>Host ID 无效            |

<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子

```json
{
  "data": {
    "status_code": 0,
    "balance": 100000
  }
}
```

### Sample Error Response 错误响应例子

```json
{
  "error": {
    "status_code": 2,
    "message": "Invalid Host ID"
  }
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://{PROVIDER_API_ENDPOINT}/api/user/deposit",
  "query": {
    "host_id": "{host_id}",
    "member_id": "{member_id}",
    "amount": "10000"
  }
}
```

<!-- type: tab-end -->

### Withdraw 取款

To transfer funds out of the player account, the withdraw API is called.<b>要将资金转出玩家帐户，将调用取款API。


<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称 | Type 类型       | Description 介绍                                           |
| --------- | ---------- | ---------------------------------------------------- |
| host_id   | string     | Unique ID of Operator System (provided by game provider)<b>第三方的 Host ID (游戏供应商提供) |
| member_id | string     | Unique ID / Username of the player<b>玩家用户名/唯一ID                   |
| amount    | uint64     | Total **POINTS** to be transferred (in Cents)<b>要转让的总点数 （进位两位数，分钱）        |

> If player's transfer amount is 1000 points, amount is 100000 (in Cents)<b>如果玩家的转入游戏分数是1000分，amount要是100000(分钱)

> ##### Example 例子
>
> https://{PROVIDER_API_ENDPOINT}/api/user/withdraw?host_id={host_id}&member_id={member_id}&amount=10000

### Response 响应

| Name 名称   | Type 类型   | Description 介绍                                  |
| ----------- | ------ | ------------------------------------------- |
| status_code | int    | Response status code<b>响应状态代码                        |
| balance     | uint64 | Current **POINTS** of the player (in cents)<b>玩家点数 (进位两位数，分钱) |

#### Status Code 状态代码

| Code 代码 | Description 介绍                 |
| ---- | -------------------------- |
| 0    | Success<b>成功                    |
| 1    | Invalid Member ID<b>玩家账号无效          |
| 2    | Invalid Host ID<b>Host ID 无效            |

<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子

```json
{
  "data": {
    "status_code": 0,
    "balance": 100000
  }
}
```

### Sample Error Response 错误响应例子

```json
{
  "error": {
    "status_code": 2,
    "message": "Invalid Host ID"
  }
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://{PROVIDER_API_ENDPOINT}/api/user/withdraw-v2",
  "query": {
    "host_id": "{host_id}",
    "member_id": "{member_id}",
    "amount": "10000"
  }
}
```

<!-- type: tab-end -->

## Game Launch 游戏启动

For launching games, please refer to the URL parameters as below.<b>要启动游戏，请参考以下URL参数.

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称      | Type 类型   | Description 介绍                                                                          |
| -------------- | ------ | ----------------------------------------------------------------------------------- |
| host_id        | string | Unique ID of Operator System (provided by game provider)<b>第三方的 Host ID (游戏供应商提供)                                |
| access_token   | string | The access token is generated by operator system for the player's session.<b>玩家在第三方系统内的访问令牌.      |
| lang           | string | Language of the game </b>游戏语言 <br> Default language is en<b>默认语言是en
> If host_id and access_token is not provided, it is treated as **Guest** mode.<b>如果没有提供host_id和access_token，将会被视为游客模式 

> ##### Example 例子
>
> https://{GAME_URL}?host_id={host_id}&access_token={access_token}

<!-- type: tab-end -->

## User Report 玩家报表 

This API is to get the games report from Game Server. **Operator** must maintain the key to keep track log request. For the first time to request log, key = 0. The response return the key value to **operator** for the next log request.<b>游戏供应商内的游戏数据报表，第三方可用此接口获得数据。玩家报表会根据 第三方所返回的据库索引号 来寻找数据


<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称| Type 类型   | Description 介绍                                           |
| ------- | ------ | ---------------------------------------------------- |
| host_id | string | Unique ID of Operator System (provided by game provider)<b>第三方的 Host ID (游戏供应商提供) |
| key     | string | Unique database index number<b>数据库索引号                          |
| page_size | int(optional) | Number of records. Maximum 500 <b>记录的数量. 最大值500|

> If key is empty, it will return data from index zero (0).<b>如果没有提供数据库索引号，供数据库索引号将会被视为初始值为 0 <b>
> If page_size is empty, default return 10 records.<b>
如果没有提供page_size,默认返回10个记录
> ##### Example 例子
>
> https://{PROVIDER_API_ENDPOINT}/api/report?host_id={host_id}&key={key}&page_size={page_size}

### Response 响应

| Name 名称   | Type 类型  | Description 介绍           |
| ----------- | ----- | -------------------- |
| status_code | int   | Response status code<b>响应状态代码 |
| report      | array | A list report<b>报表列表        |

#### Status Code 状态代码

| Code 代码 | Description 介绍      |
| ---- | --------------- |
| 0    | Success<b>成功         |
| 2    | Invalid Host ID<b>Host ID 无效 |


<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子

```json
{
  "data": {
    "status_code": 0,
    "report": [
      {
        "id": "1",
        "event_id": 139204,
        "session_id": 13922,
        "slot_id": 7,
        "opponent_1": "",
        "opponent_2": "",
        "user_id": "1",
        "bet_value": "The Blade",
        "bet_odds": 1.85,
        "bet_odds_type": "EU",
        "bet_stake": 0,
        "deductable_amount": 3.7,
        "potential_payout": 3.7,
        "bet_result": "0",
        "bet_amount": 0,
        "payout_amount": 0,
        "gain_amount": 0,
        "loss_amount": 0,
        "draw_amount": 0,
        "cancel_amount": 0,
        "reject_amount": 0,
        "status": "done",
        "created_at": "2016-07-29 12:40:46"
      }
    ],
    "key": "13"
  }
}
```

### Sample Error Response 错误响应例子

```json
{
  "error": {
    "status_code": 2,
    "message": "Invalid Host ID"
  }
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://{PROVIDER_API_ENDPOINT}/api/report",
  "query": {
    "host_id": "{host_id}",
    "key": "{key}"
  }
}
```

<!-- type: tab-end -->